<!-- FILEPATH: /Users/richardolarez/SeniorCapstone/24040FlaskFramework/templates/EDV.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>EDV</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='EDV.css') }}">
    <script src="https://unpkg.com/htmx.org@latest"></script>

    <style>
        #myTable{
            width: 90%;
        }
        .container {
            /* display: flex; */
            height: 90vh; /* Full height of the viewport */      
        }
        .left, .right {
            flex: 1; /* Each section takes up equal space */
            flex-direction: column;
            padding: 20px; /* Optional: Adds some padding inside sections */
            align-items: center;
            text-align: center;
            justify-content: flex-start;
        }   
        .componentDropdown {
            width: 90%; /* Adjust this value to fill more of the container */
            max-width: 400px; /* Optional: Set a max width for larger screens */
            margin: 10px auto; /* Center the dropdowns horizontally within their container */
        }
        .footer{
            align-content: center;
        }
        .hidden {
            display: none;
        }
    </style>
</head>

  

<body>
     <!--<h1>Home / Electrical Diagram View</h1> -->
    <h2 class="banner">
    Home / Project View
    </h2>
   
    <div class="container">
        <div class="left">
            <h1>Current Project</h1>

            <!-- div for drop down menus-->
            <div>
                <select class="componentDropdown" onchange="showTable1()">
                    <option value="" disabled selected>Current T.I.D Tables</option>
                    <option value="component1">Component 1</option>
                    <option value="component2">Component 2</option>
                </select>
                <!-- Start of Invisible Table -->
                <br>
                <div id="table1" class="hidden">
                  <button class="button" onclick="addRow1()">Add+</button>
                  <button class="button" onclick="deleteRow1()">Delete Row</button><br><br><br>
                  <table id="myTable1">
                    <tr>
                      <th>Component</th>
                      <th>Attribute</th>
                  </tr>
                  <tr>
                      <td contenteditable="true">...</td>
                      <td contenteditable="true">...</td>
                  </tr>
                  <tr>
                      <td contenteditable="true">...</td>
                      <td contenteditable="true">...</td>
                  </tr>
                  <tr>
                          <td contenteditable="true">...</td>
                          <td contenteditable="true">...</td>
                  </tr>
                  </table>
                </div>
                
                <br><br><br><br><br>

                <select class="componentDropdown" onchange="showTable2()">
                    <option value="" disabled selected>Components</option>
                    <option value="component1">Component 1</option>
                    <option value="component2">Component 2</option>
                </select>
                <!-- Start of Invisible Table -->
                <div id="table2" class="hidden">
                  <br>
                  <button class="button" onclick="addRow2()">Add+</button>
                  <button class="button" onclick="deleteRow2()">Delete Row</button><br><br><br>
                  <table id="myTable2">
                    <tr>
                      <th>Component</th>
                      <th>Attribute</th>
                  </tr>
                  <tr>
                      <td contenteditable="true">...</td>
                      <td contenteditable="true">...</td>
                  </tr>
                  <tr>
                      <td contenteditable="true">...</td>
                      <td contenteditable="true">...</td>
                  </tr>
                  <tr>
                          <td contenteditable="true">...</td>
                          <td contenteditable="true">...</td>
                  </tr>
                  </table>
                </div>
                
                <br><br><br><br><br>

                <!-- <select class="componentDropdown">
                    <option value="component1">Component 1</option>
                    <option value="component2">Component 2</option>
           
                </select> -->
            </div>
        </div>
    </div>
    
    <div class="footer">
        <a href="/menu"><button class="button">Menu</button></a>
        <a href="/"><button class="button">Logout</button></a>
        <a href="/export_project/1"><button class="button">Export Project</button></a>
    </div>

    <script>
        function addRow1() {
            var table = document.getElementById("myTable1");
            var newRow = table.insertRow(table.rows.length);
            var cell1 = newRow.insertCell(0);
            var cell2 = newRow.insertCell(1);
            cell1.innerHTML = '<td>...</td>';
            cell2.innerHTML = '<td>...</td>';
            cell1.setAttribute("contenteditable", "true");
            cell2.setAttribute("contenteditable", "true");
        }
        function deleteRow1() {
            var table = document.getElementById("myTable1");
            var lastRowIndex = table.rows.length - 1;
            table.deleteRow(lastRowIndex);
        }
        function showTable1() {
          var dropdown = document.querySelector('.componentDropdown');
          var table = document.getElementById('table1');
          if (table.classList.contains('hidden')) {
            table.classList.remove('hidden');
            updateTable1(); // Initial table update when it's shown for the first time
          }
        }

        function updateTable1() {
          // Your code to update table content goes here
          // For example, you can dynamically generate rows based on some data
          var tableBody = document.querySelector('#myTable1 tbody');
          // Example: Add a row with some data
          var newRow = document.createElement('tr');
          var newData = document.createElement('td');
          newRow.appendChild(newData);
          tableBody.appendChild(newRow);
        }
        function addRow2() {
            var table = document.getElementById("myTable2");
            var newRow = table.insertRow(table.rows.length);
            var cell1 = newRow.insertCell(0);
            var cell2 = newRow.insertCell(1);
            cell1.innerHTML = '<td>...</td>';
            cell2.innerHTML = '<td>...</td>';
            cell1.setAttribute("contenteditable", "true");
            cell2.setAttribute("contenteditable", "true");
        }
        function deleteRow2() {
            var table = document.getElementById("myTable2");
            var lastRowIndex = table.rows.length - 1;
            table.deleteRow(lastRowIndex);
        }
        function showTable2() {
          var dropdown = document.querySelector('.componentDropdown');
          var table = document.getElementById('table2');
          if (table.classList.contains('hidden')) {
            table.classList.remove('hidden');
            updateTable2(); // Initial table update when it's shown for the first time
          }
        }

        function updateTable2() {
          // Your code to update table content goes here
          // For example, you can dynamically generate rows based on some data
          var tableBody = document.querySelector('#myTable2 tbody');
          // Example: Add a row with some data
          var newRow = document.createElement('tr');
          var newData = document.createElement('td');
          // newData.textContent = 'Dynamic Data';
          newRow.appendChild(newData);
          tableBody.appendChild(newRow);
        }
    </script>
</body>
</html>